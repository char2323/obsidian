# 🛠 pacman（Arch 官方仓库管理器）

### 🔎 查找/搜索

```bash
pacman -Ss 包名     # 在官方仓库中搜索包
pacman -Qs 包名     # 在已安装的包中搜索
```

### 📥 安装

```bash
sudo pacman -S 包名       # 安装单个包
sudo pacman -S 包1 包2    # 一次安装多个包
```

### 🗑 卸载

```bash
sudo pacman -R 包名       # 卸载包（保留依赖）
sudo pacman -Rs 包名      # 卸载包 + 自动移除不再被需要的依赖
sudo pacman -Rns 包名     # 卸载包 + 配置文件 + 不需要的依赖
```

### 🔄 更新

```bash
sudo pacman -Syu          # 更新系统（同步软件包数据库 + 升级所有包）
sudo pacman -Sy           # 仅同步软件包数据库（不升级）
sudo pacman -Syy          # 强制同步数据库（很少需要）
```

### 📦 信息

```bash
pacman -Qi 包名           # 查看已安装包的信息
pacman -Si 包名           # 查看仓库中包的信息
pacman -Ql 包名           # 查看包安装了哪些文件
pacman -Qo 文件路径       # 查询某个文件属于哪个包
```

### 🗂 缓存相关

```bash
ls /var/cache/pacman/pkg   # 查看 pacman 缓存的包文件
sudo pacman -Sc            # 清理缓存中无用的包
sudo pacman -Scc           # 清理所有缓存（更彻底）
```

---

# 🛠 yay / paru（AUR helper）

它们是 pacman 的扩展，支持官方仓库 + AUR。

### 🔎 搜索

```bash
yay -Ss 包名      # 搜索官方仓库 + AUR
yay -Qs 包名      # 搜索已安装的包
```

### 📥 安装

```bash
yay -S 包名       # 安装（自动处理 AUR）
yay -Syu          # 更新系统 + AUR 包
```

### 🗑 卸载

```bash
yay -Rns 包名     # 卸载包 + 配置文件 + 不需要的依赖
```

---

# 🛠 其他常用操作

### 📜 列出包

```bash
pacman -Qe        # 显示显式安装的包（用户手动装的）
pacman -Qd        # 显示作为依赖安装的包
pacman -Qdt       # 显示孤立的依赖（可以考虑删除）
pacman -Qm        # 显示 AUR 或本地安装的包（非官方）
```

### 🔍 包文件查询

```bash
pacman -Fy        # 同步文件数据库
pacman -F 文件名  # 查询哪个包提供了这个文件
```

---

✅ **总结表**（最常用的）：

| 操作    | pacman 命令             | yay/paru 命令     |
| ----- | --------------------- | --------------- |
| 搜索仓库  | `pacman -Ss 包名`       | `yay -Ss 包名`    |
| 搜索已安装 | `pacman -Qs 包名`       | `yay -Qs 包名`    |
| 安装    | `sudo pacman -S 包名`   | `yay -S 包名`     |
| 卸载    | `sudo pacman -Rns 包名` | `yay -Rns 包名`   |
| 系统更新  | `sudo pacman -Syu`    | `yay -Syu`      |
| 包信息   | `pacman -Qi 包名`       | `yay -Qi 包名`    |
| 包含文件  | `pacman -Ql 包名`       | `yay -Ql 包名`    |
| 文件所属  | `pacman -Qo /路径/文件`   | 同上（底层调用 pacman） |
| 孤立依赖  | `pacman -Qdt`         | `yay -Qdt`      |


